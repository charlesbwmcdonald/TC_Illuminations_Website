<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TC Illuminations - Premium Christmas Tree Rentals</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* General Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #ffffff;
            overflow-x: hidden;
            position: relative;
        }

        /* --- DYNAMIC BACKGROUND LIGHTS --- */
        .lights-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            background: #000000;
        }

        .light {
            position: absolute;
            border-radius: 50%;
            opacity: 0.9;
            width: 3px;
            height: 3px;
            background-color: transparent;
            animation:
                float-x 20s infinite alternate ease-in-out,
                float-y 25s infinite alternate ease-in-out,
                twinkle 4s infinite alternate ease-in-out;
            box-shadow: none;
            transition: box-shadow 0.3s;
        }

        @keyframes float-x {
            0% { transform: translateX(0); }
            100% { transform: translateX(120px); }
        }
        @keyframes float-y {
            0% { transform: translateY(0); }
            100% { transform: translateY(-120px); }
        }
        @keyframes twinkle {
            0% { opacity: 0.5; transform: scale(0.9); }
            30% { opacity: 1.0; transform: scale(1.1); }
            60% { opacity: 0.6; transform: scale(1.0); }
            100% { opacity: 0.5; transform: scale(0.9); }
        }

        /* --- FLOATING LAYOUT UTILITIES --- */
        .floating-section {
            max-width: 1200px;
            margin: 2rem auto;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            z-index: 10;
            background: white;
        }

        /* --- HEADER --- */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 0;
            pointer-events: none;
        }

        /* üü¢ MODIFIED: Solid Green Header Card */
        .header-card {
            background: #2d5f3f; /* Solid Green */
            backdrop-filter: blur(0px); 
            border-radius: 16px;
            padding: 0.75rem 2rem;
            max-width: 1200px;
            margin: 1rem auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.5); 
            pointer-events: auto;
        }

        /* üü¢ MODIFIED: Logo Styling for Image/Text */
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white; /* Logo text color is white */
            height: 40px; /* Max height of logo area */
            line-height: 40px; 
            text-shadow: 0 0 5px rgba(255, 255, 0, 0.5); 
        }

        .logo img {
            max-height: 40px; /* Max height for the image itself */
            width: auto;
            display: block;
        }

        /* Hamburger Menu */
        .hamburger {
            display: none;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
            padding: 5px;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: white; /* White burger lines for dark header */
            transition: all 0.3s;
            border-radius: 2px;
        }

        .hamburger.active span {
            background: #ffee00; /* Yellow when active */
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        /* üü¢ MODIFIED: White text for dark header */
        .nav-links a {
            text-decoration: none;
            color: #f0f0f0; 
            font-weight: 500;
            transition: all 0.3s ease-in-out;
            padding: 5px 0; 
        }

        /* üü¢ MODIFIED: Softened Glow and No Underline */
        .nav-links a:hover,
        .nav-links a.active {
            color: white; 
            font-weight: bold;
            /* Subtler Glowing effect */
            text-shadow: 0 0 2px #ffee00, 0 0 5px #ffdd00; 
            /* Removed border-bottom */
        }


        /* --- DRAWER MENU (Mobile) --- */
        .drawer-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: #2d5f3f; /* Solid Green Background */
            z-index: 999;
            transform: translateY(-100%);
            transition: transform 0.4s ease;
            overflow-y: auto;
        }

        .drawer-menu.active {
            transform: translateY(0);
        }

        .drawer-content {
            padding: 8rem 2rem 3rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .drawer-links {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* Drawer Links (White Text, Yellow Hover) */
        .drawer-links a {
            text-decoration: none;
            color: white; 
            font-size: 2rem;
            font-weight: bold;
            transition: all 0.3s;
            padding: 1rem;
            border-bottom: 2px solid transparent;
        }

        .drawer-links a:hover {
            border-bottom: 2px solid #ffee00;
            padding-left: 2rem;
            text-shadow: 0 0 5px #ffee00;
        }
        /* --- MAIN CONTENT --- */
        main {
            padding-top: 100px;
            padding-bottom: 2rem;
            padding-left: 1rem;
            padding-right: 1rem;
        }

        /* Section Styles (Inner Padding) */
        section {
            background: white;
            padding: 4rem 2rem;
            margin-bottom: 0;
        }

        /* Specific Hero Styling */
        #banner-hero {
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: url(https://tcilluminations.com/wp-content/uploads/2022/11/tc-illuminations-pic-2-scaled-1.webp) no-repeat center center;
            background-size: cover;
            color: white;
            text-align: center;
        }

        #banner-hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        #banner-hero p {
            font-size: 1.25rem;
            opacity: 0.9;
        }
/* --- Banner Overlay + Vignette --- */
#banner-hero {
    position: relative;
    overflow: hidden; /* prevents overlay spill */
}

#banner-hero::before {
    content: "";
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.45); /* main dark overlay */
    z-index: 1;
}

#banner-hero::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
        circle,
        rgba(0,0,0,0) 45%,   /* center clear */
        rgba(0,0,0,0.65) 100% /* dark edges */
    );
    z-index: 2;
}

/* Ensures banner text stays ABOVE overlays */
#banner-hero > * {
    position: relative;
    z-index: 3;
}

        /* Standard Headers */
        h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #2d5f3f;
        }

        /* Tree Cards */
        .tree-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .tree-card {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 0 0 2rem 0;
            border: 1px solid #eee;
            text-align: center;
            transition: transform 0.3s;
            overflow: hidden;
        }

        .tree-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        /* Tree Image Styling */
        .tree-image {
            margin-bottom: 0;
            overflow: hidden;
            position: relative;
            border-radius: 12px 12px 0 0; 
            aspect-ratio: 4/3; 
            
        }

        .tree-image img {
            width: 100%;
            height: 100%; 
            display: block;
            object-fit: contain;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Style for the Color Selector Dropdown */
        .color-selector {
            margin-bottom: 1.5rem;
            padding-left: 2rem;
            padding-right: 2rem;
            text-align: left;
            display: flex;
            flex-direction: column;
            margin-top: 1.5rem;
        }

        .color-selector label {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: #444;
        }

        .color-selector select {
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            background: #fff;
            cursor: pointer;
        }

        /* Inner content needs padding, excluding the button */
        .tree-card > h3,
        .tree-card > .price,
        .tree-card > .specs,
        .tree-card > .topper-icons {
            padding-left: 2rem;
            padding-right: 2rem;
            box-sizing: border-box;
            width: 100%; 
        }
        
        .tree-card h3 {
            font-size: 2rem;
            color: #2d5f3f;
            margin-bottom: 1rem;
        }

        .price {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 1rem;
        }

        .specs { margin: 1.5rem 0; color: #666; }

        .topper-icons {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .topper-icon {
            width: 50px;
            height: 50px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: #333;
        }

        .btn {
            background: #2d5f3f;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
            text-decoration: none;
            
            display: inline-block;
            width: auto;     
            margin-left: 0; 
            margin-right: 0;
        }

        .btn:hover { background: #1f4429; }
        
        /* Features */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .feature-block {
            background: #f9f9f9;
            padding: 2rem;
            border-radius: 12px;
        }

        .feature-block h3 { color: #2d5f3f; margin-bottom: 1rem; }

        /* FAQs */
        .faq-item {
            background: #f9f9f9;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .faq-question {
            padding: 1.5rem;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }

        .faq-answer {
            padding: 0 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s, padding 0.3s;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            padding: 0 1.5rem 1.5rem;
        }

        /* Gallery */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .gallery-item {
            background: #ddd;
            aspect-ratio: 3/4; 
            border-radius: 8px;
            position: relative;
        }

        .gallery-item::after {
            content: 'üì∑';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            opacity: 0.3;
        }
        .gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* This fills the container while cropping to fit */
    display: block;
    border-radius: 8px;
    transition: transform 0.3s ease;
}

.gallery-item:hover img {
    transform: scale(1.05);
}

/* Hide the camera emoji when there's an image */
.gallery-item img ~ ::after {
    display: none;
}
        /* CTA Banner */
        #cta-banner {
            background: linear-gradient(135deg, #2d5f3f 0%, #1a422b 100%);
            color: white;
            text-align: center;
        }

        #cta-banner h2 { color: white; margin-bottom: 1rem; }
        #cta-banner p { font-size: 1.5rem; margin-bottom: 2rem; opacity: 0.9; }
        #cta-banner .btn { background: white; color: #2d5f3f; }
        #cta-banner .btn:hover { background: #f0f0f0; }

        /* --- FOOTER (Floating Card, Green Background) --- */
        footer {
            background: linear-gradient(135deg, #2d5f3f 0%, #1a422b 100%);
            color: #f0f0f0;
            padding: 4rem 2rem;
        }
        
        .floating-footer {
            max-width: 1200px;
            margin: 2rem auto;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            z-index: 10;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            text-align: left;
        }

        .footer-section h4 {
            color: white;
            margin-bottom: 1rem;
            border-bottom: 1px solid #4a805c;
            padding-bottom: 0.5rem;
        }

        .footer-section ul { list-style: none; }
        .footer-section a {
            color: #b3e6b3;
            text-decoration: none;
            display: block;
            margin-bottom: 0.5rem;
            transition: color 0.3s;
        }
        .footer-section a:hover { color: white; }

        .newsletter form { display: flex; width: 100%; }
        .newsletter input[type="email"] {
            padding: 0.75rem;
            border: none;
            border-radius: 4px 0 0 4px;
            flex-grow: 1;
            height: 44px;
        }
        .newsletter .btn {
            background: #1f4429;
            color: white;
            padding: 0 1rem;
            height: 44px;
            line-height: 44px;
            border-radius: 0 4px 4px 0;
            margin-left: 0;
            display: flex; align-items: center; justify-content: center;
        }
        .newsletter .btn:hover { background: #1a3822; }

        .footer-bottom {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #4a805c;
            text-align: center;
            font-size: 0.85rem;
            color: #d0d0d0;
        }

        /* --- MODAL --- */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .modal.active { display: flex; }

        .modal-content {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%; padding: 0.75rem;
            border: 1px solid #ddd; border-radius: 6px; font-size: 1rem;
        }
        .close-modal { 
            position: absolute; 
            top: 1rem; 
            right: 1.5rem; 
            font-size: 2rem; 
            cursor: pointer; 
            color: #999; 
            line-height: 1; 
        }
        
        /* --- NEW CSS FOR MODAL IMAGE PREVIEW --- */
        #colorPreviewContainer img {
            max-width: 150px; 
            height: auto;
            border-radius: 8px;
            border: 1px solid #ddd;
            object-fit: contain; 
            transition: opacity 0.3s;
        }

        /* --- MOBILE RESPONSIVENESS (Working State) --- */
        @media (max-width: 768px) {
            .nav-links { display: none; }
            .hamburger { display: flex; }
            
            /* Apply uniform mobile margins to ALL floating sections */
            .floating-section, .floating-footer {
                margin: 1rem 0.5rem;
                border-radius: 12px;
            }
            
            /* Align header card with other sections (0.5rem margin) */
            .header-card {
                margin: 0.5rem 0.5rem;
            }
            
            /* Adjust main padding to account for new header positioning */
            main {
                padding-top: 80px;
                padding-left: 0.5rem; 
                padding-right: 0.5rem;
            }

            #banner-hero h1 { font-size: 2rem; }
            .footer-content { grid-template-columns: 1fr; text-align: center; }
            .newsletter form { flex-direction: column; gap: 0.5rem; }
            .newsletter input[type="email"], .newsletter .btn { border-radius: 4px; width: 100%; }
        }
    </style>
</head>
<body>

    <div class="lights-container" id="lightsContainer"></div>

    <header>
        <div class="header-card">
            <div class="logo">
                <img src="https://tcilluminations.com/wp-content/uploads/2022/09/tc_illuminations_logo_website.svg" alt="TC Illuminations Logo">
            </div>
            
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <nav>
                <ul class="nav-links">
                    <li><a href="#banner-hero">Home</a></li>
                    <li><a href="#our-trees">Our Trees</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#faqs">FAQs</a></li>
                    <li><a href="#gallery">Gallery</a></li>
                    <li><a href="#cta-banner">Reserve Your Tree</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <div class="drawer-menu" id="drawerMenu">
        <div class="drawer-content">
            <ul class="drawer-links">
                <li><a href="#banner-hero" class="drawer-link">Home</a></li>
                <li><a href="#our-trees" class="drawer-link">Our Trees</a></li>
                <li><a href="#features" class="drawer-link">Features</a></li>
                <li><a href="#faqs" class="drawer-link">FAQs</a></li>
                <li><a href="#gallery" class="drawer-link">Gallery</a></li>
                <li><a href="#cta-banner" class="drawer-link">Reserve</a></li>
            </ul>
        </div>
    </div>

    <main>
        <section id="banner-hero" class="floating-section">
            <div>
                <h1>Light Up The Holidays!</h1>
                <p>Bring holiday magic to your home with our professionally installed LED trees</p>
            </div>
        </section>

        <section id="our-trees" class="floating-section">
            <h2>Our Trees</h2>
            <div class="tree-cards">
                
                <div class="tree-card" data-size="18ft">
                    <div class="tree-image">
                        <img id="tree-img-18ft" src="https://tcilluminations.com/wp-content/uploads/2022/11/18ft-Trees-pure-white.png" loading="lazy" alt="18 foot decorated Christmas tree in pure white">
                    </div>
                    
                    <div class="color-selector">
                        <label for="color-18ft">Light Color:</label>
                        <select id="color-18ft" class="tree-color-select" data-tree-id="tree-img-18ft">
                            <option value="pure-white">Pure White (Default)</option>
                            <option value="warm-white">Warm White</option>
                            <option value="multicolor">Multicolor</option>
                            <option value="red">Red</option>
                            <option value="blue">Blue</option>
                        </select>
                    </div>
                    
                    <h3>18 ft Tree</h3>
                    <div class="price">Starting at $600</div>
                    <div class="specs">800+ LED Bulbs</div>
                    <div class="topper-icons">
                        <div class="topper-icon"><i class="fa-solid fa-star"></i></div>
                        <div class="topper-icon"><i class="fa-solid fa-snowflake"></i></div> 
                        <div class="topper-icon"><i class="fa-solid fa-gift"></i></div> 
                    </div>
                    <button class="btn reserve-btn" data-tree-size="18ft">Reserve Your Tree</button>
                </div>
                
                <div class="tree-card" data-size="30ft">
                    <div class="tree-image">
                        <img id="tree-img-30ft" src="https://tcilluminations.com/wp-content/uploads/2022/11/30ft-Trees-pure-white.png" alt="30 foot decorated Christmas tree" loading="lazy">
                    </div>
                    
                    <div class="color-selector">
                        <label for="color-30ft">Light Color:</label>
                        <select id="color-30ft" class="tree-color-select" data-tree-id="tree-img-30ft">
                            <option value="pure-white">Pure White (Default)</option>
                            <option value="warm-white">Warm White</option>
                            <option value="multicolor">Multicolor</option>
                            <option value="red">Red</option>
                            <option value="blue">Blue</option>
                        </select>
                    </div>
                    
                    <h3>30 ft Tree</h3>
                    <div class="price">Starting at $1200</div>
                    <div class="specs">1600+ LED Bulbs</div>
                    <div class="topper-icons">
                        <div class="topper-icon"><i class="fa-solid fa-star"></i></div>
                        <div class="topper-icon"><i class="fa-solid fa-snowflake"></i></div> 
                        <div class="topper-icon"><i class="fa-solid fa-gift"></i></div> 
                    </div>
                    <button class="btn reserve-btn" data-tree-size="30ft">Reserve Your Tree</button>
                </div>
                
            </div>
        </section>

        <section id="features" class="floating-section">
            <h2>Features</h2>
            <div class="features-grid">
                <div class="feature-block">
                    <h3>Multiple Colors Available</h3>
                    <p>Commercial-grade, energy-efficient LEDs available in multiple colors, including custom options to match your style and preferences.</p>
                </div>
                <div class="feature-block">
                    <h3>Professional Installation</h3>
                    <p>Delivery, installation, and all required materials are included. Our expert team handles everything from start to finish.</p>
                </div>
                <div class="feature-block">
                    <h3>Free Breakdown and Removal</h3>
                    <p>Our team returns at the end of the rental period to disassemble and remove the tree. No hassle, no stress for you.</p>
                </div>
                <div class="feature-block">
                    <h3>Made in Ocala, FL</h3>
                    <p>Our trees are manufactured and assembled locally for maximum quality. Supporting local craftsmanship you can trust.</p>
                </div>
            </div>
        </section>

        <section id="faqs" class="floating-section">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">How long is the rental period? <span>+</span></div>
                    <div class="faq-answer">Our standard rental period runs from early December through early January.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">What areas do you serve? <span>+</span></div>
                    <div class="faq-answer">We currently serve the greater Ocala, FL area.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">Can I customize the LED colors? <span>+</span></div>
                    <div class="faq-answer">Yes! We offer multiple standard colors and custom requests.</div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">What's included in installation? <span>+</span></div>
                    <div class="faq-answer">Everything: delivery, setup, tree, lights, and removal.</div>
                </div>
            </div>
        </section>

        <section id="gallery" class="floating-section">
    <h2>Gallery</h2>
    <div class="gallery-grid">
        <div class="gallery-item">
            <img src="https://tcilluminations.com/wp-content/uploads/2022/11/IMG_3695-scaled.jpeg" alt="Christmas tree installation 1" loading="lazy">
        </div>
        <div class="gallery-item">
            <img src="https://tcilluminations.com/wp-content/uploads/2022/11/IMG_3631-scaled.jpeg" alt="Christmas tree installation 2" loading="lazy">
        </div>
        <div class="gallery-item">
            <img src="https://tcilluminations.com/wp-content/uploads/2022/11/65905905333__F2B4C4F7-F9EA-43C5-8845-55C7651B5A0A-scaled.jpeg" alt="Christmas tree installation 3" loading="lazy">
        </div>
        <div class="gallery-item">
            <img src="https://tcilluminations.com/wp-content/uploads/2022/11/tc-illuminations-pic-3.jpg" alt="Christmas tree installation 4" loading="lazy">
        </div>
    </div>
</section>

        <section id="cta-banner" class="floating-section">
            <h2>Feel the magic of Christmas</h2>
            <p>Reserve your tree today.</p>
            <button class="btn reserve-btn" data-tree-size="CTA">Reserve Your Tree</button>
        </section>
    </main>

    <footer class="floating-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>TC Illuminations</h4>
                <p>Bringing premium, professionally installed Christmas trees to Ocala, FL.</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#our-trees">Our Trees</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#faqs">FAQs</a></li>
                    <li><a href="#gallery">Gallery</a></li>
                </ul>
            </div>
            <div class="footer-section contact-info">
                <h4>Contact Us</h4>
                <p><strong>Email:</strong> <a href="mailto:synergysoftwash@gmail.com">TC Illuminations</a></p>
                <p><strong>Phone:</strong> (352) 804-5785</p>
            </div>
            <div class="footer-section newsletter">
                <h4>Stay Updated</h4>
                <form action="#" method="POST">
                    <input type="email" placeholder="Your email" required>
                    <button type="submit" class="btn">Sign Up</button>
                </form>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 TC Illuminations. All rights reserved.</p>
        </div>
    </footer>

    <div class="modal" id="reserveModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Reserve Your Tree</h2>
            <form id="reservationForm" action="https://api.web3forms.com/submit" method="POST">
                <input type="hidden" name="access_key" value="cbe199d5-9da2-4948-b047-a780f23c5105">
                <input type="hidden" name="subject" value="New Tree Reservation from TC Illuminations">
                <input type="hidden" name="redirect" value="https://web3forms.com/success">
                
                <div class="form-group">
                    <label for="name">Full Name *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email *</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                
                <div class="form-group">
                    <label for="treeSize">Tree Size *</label>
                    <select id="treeSize" name="treeSize" required>
                        <option value="">Select a size</option>
                        <option value="18ft">18 ft Tree - $600</option>
                        <option value="30ft">30 ft Tree - $1200</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="ledColor">LED Color Preference *</label>
                    <select id="ledColor" name="ledColor" required>
                        <option value="">Select a color</option>
                        <option value="pure-white">Pure White</option>
                        <option value="warm-white">Warm White</option>
                        <option value="multicolor">Multicolor</option>
                        <option value="red">Red</option>
                        <option value="blue">Blue</option>
                        <option value="green">Green</option>
                        <option value="custom">Custom (specify in message)</option>
                    </select>
                    <div id="colorPreviewContainer" style="margin-top: 10px; text-align: center;">
                        </div>
                </div>
                <div class="form-group">
                    <label for="topper">Tree Topper *</label>
                    <select id="topper" name="topper" required>
                        <option value="">Select a topper</option>
                        <option value="star">Star ‚≠ê</option>
                        <option value="angel">Angel üëº</option>
                        <option value="bow">Bow üéÄ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="address">Installation Address *</label>
                    <input type="text" id="address" name="address" required>
                </div>
                <div class="form-group">
                    <label for="message">Additional Details or Questions</label>
                    <textarea id="message" name="message"></textarea>
                </div>
                
                <button type="submit" class="btn">Submit Reservation</button>
            </form>
        </div>
    </div>

    <script>
        /* --- JS for Light Generation (Enhanced Glow and Movement) --- */
        const lightsContainer = document.getElementById('lightsContainer');
        const colors = ['rgba(255, 100, 100, 1.0)', 'rgba(100, 255, 100, 1.0)', 'rgba(255, 255, 100, 1.0)', 'rgba(100, 100, 255, 1.0)', 'rgba(255, 255, 255, 1.0)'];

        for (let i = 0; i < 60; i++) {
            const light = document.createElement('div');
            light.classList.add('light');
            
            const top = Math.random() * 100 + '%';
            const left = Math.random() * 100 + '%';
            const color = colors[Math.floor(Math.random() * colors.length)];
            const delay = Math.random() * 5 + 's';
            const duration = Math.random() * 15 + 10;
            
            light.style.top = top;
            light.style.left = left;
            
            light.style.backgroundColor = color;
            light.style.boxShadow = `0 0 10px ${color}, 0 0 70px ${color}`; 
            
            light.style.animationDelay = delay;
            light.style.animationDuration = `${duration}s, ${duration + 5}s, 4s`;

            lightsContainer.appendChild(light);
        }

        // --- Standard UI JS ---
        const hamburger = document.getElementById('hamburger');
        const drawerMenu = document.getElementById('drawerMenu');
        const drawerLinks = document.querySelectorAll('.drawer-link');
        const navLinks = document.querySelectorAll('.nav-links a');
        const sections = document.querySelectorAll('section');

        // 1. Hamburger Menu Toggle
        hamburger.addEventListener('click', () => { 
            hamburger.classList.toggle('active'); 
            drawerMenu.classList.toggle('active'); 
            document.body.style.overflow = drawerMenu.classList.contains('active') ? 'hidden' : 'auto';
        });

        // 2. Close Drawer Function (Reusable)
        function closeDrawer() {
            hamburger.classList.remove('active'); 
            drawerMenu.classList.remove('active'); 
            document.body.style.overflow = 'auto';
        }

        // 3. Active Scroll Spy Logic (FIXED for initial load and errors)
        function setActiveLink() {
            let current = '';
            
            // Explicitly set 'Home' if at the top of the page (scroll position 0)
            if (window.scrollY === 0) {
                current = 'banner-hero';
            } else {
                // Use a consistent offset height for triggering the active link 
                const headerHeight = document.querySelector('.header-card').offsetHeight + 40; 

                sections.forEach(section => {
                    // Define the top of the section within the loop
                    const sectionTop = section.offsetTop; 

                    // Check if the current scroll position is past the top of the section, 
                    // adjusted for the fixed header height.
                    if (window.scrollY >= sectionTop - headerHeight) {
                        current = section.getAttribute('id');
                    }
                });
            }

            // Apply 'active' class to corresponding navigation links
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
            
            // Also update drawer links
            document.querySelectorAll('.drawer-links a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
        }

        // Run the function on load and on scroll
        window.addEventListener('scroll', setActiveLink);
        window.addEventListener('load', setActiveLink); 
        // --- End Active Scroll Spy Logic ---

        // 4. Click Scroll Logic (Restored and Fixed Offset)
        function scrollToSection(e) {
            e.preventDefault();
            
            const targetId = e.currentTarget.getAttribute('href');
            const targetElement = document.querySelector(targetId);

            if (targetElement) {
                const headerCard = document.querySelector('.header-card');
                const headerHeight = headerCard.offsetHeight;
                
                // üü¢ FINAL FIX: We subtract 50px from the header height to ensure the scroll stops HIGHER
                // This compensates for the unexpected padding/margin causing the scroll to land too low.
                const offset = headerHeight - 45; 

                // Calculate the final position to scroll to
                const targetPosition = targetElement.offsetTop - offset;

                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
                
                // If it's a drawer link, close the drawer after scrolling
                if (e.currentTarget.classList.contains('drawer-link')) {
                    closeDrawer(); 
                }
            }
        }

        // 7. Apply the new scroll logic to ALL links in the main nav and drawer
        navLinks.forEach(link => link.addEventListener('click', scrollToSection));
        drawerLinks.forEach(link => link.addEventListener('click', scrollToSection));


        // 5. Tree Color Selector Logic (In Tree Cards)
        const colorSelectors = document.querySelectorAll('.tree-color-select');
        const imageBaseUrl = 'https://tcilluminations.com/wp-content/uploads/2022/11/';
        const imageSuffix = '.png'; 

        colorSelectors.forEach(select => {
            select.addEventListener('change', (e) => {
                const treeId = e.target.dataset.treeId;
                const selectedColor = e.target.value; 
                const treeImg = document.getElementById(treeId);
                
                if (treeImg) {
                    const treeSize = treeId.replace('tree-img-', ''); 
                    const newSrc = `${imageBaseUrl}${treeSize}-Trees-${selectedColor}${imageSuffix}`;
                    treeImg.src = newSrc;
                }
            });
        });

        // 6. Modal / Reservation Logic (Open & Preview)
        const reserveBtns = document.querySelectorAll('.reserve-btn');
        const modal = document.getElementById('reserveModal');
        const closeModal = document.querySelector('.close-modal');
        const treeSizeSelect = document.getElementById('treeSize');
        const ledColorSelect = document.getElementById('ledColor');
        const colorPreviewContainer = document.getElementById('colorPreviewContainer');


        function updateColorPreview() {
            const size = treeSizeSelect.value.replace('ft', ''); 
            const color = ledColorSelect.value;                  

            if (size && (color !== '' && color !== 'custom')) {
                const newSrc = `${imageBaseUrl}${size}ft-Trees-${color}.png`;
                
                if (!colorPreviewContainer.querySelector('img')) {
                    const img = document.createElement('img');
                    img.id = 'modalTreePreview';
                    colorPreviewContainer.appendChild(img);
                }

                const img = document.getElementById('modalTreePreview');
                img.src = newSrc;
                img.alt = `Preview of ${size}ft tree with ${color} lights`;
                img.style.display = 'block';
            } else {
                colorPreviewContainer.innerHTML = '';
            }
        }
        
        // Add event listeners for modal dropdowns
        treeSizeSelect.addEventListener('change', updateColorPreview);
        ledColorSelect.addEventListener('change', updateColorPreview);


        function openModal(preSelectedSize = '') {
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            if (preSelectedSize) {
                treeSizeSelect.value = preSelectedSize;
                if (preSelectedSize === 'CTA') {
                    treeSizeSelect.value = '';
                }
            }
            
            // Reset color preference in modal to default (Pure White) if a size is selected, otherwise to empty
            ledColorSelect.value = treeSizeSelect.value ? 'pure-white' : '';
            
            updateColorPreview(); 
        }

        function close() {
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            colorPreviewContainer.innerHTML = ''; 
        }

        // Event Listeners for opening modal
        reserveBtns.forEach(button => {
            button.addEventListener('click', (e) => {
                const treeSize = e.target.dataset.treeSize || '';
                openModal(treeSize);
            });
        });

        // Event Listeners for closing modal
        closeModal.addEventListener('click', close);
        window.addEventListener('click', (e) => {
            if (e.target === modal) {
                close();
            }
        });
        
        // 8. FAQ Accordion Logic
        document.querySelectorAll('.faq-question').forEach(item => {
            item.addEventListener('click', () => {
                const parent = item.parentElement;
                parent.classList.toggle('active');
                
                // Optional: Close others
                document.querySelectorAll('.faq-item.active').forEach(openItem => {
                    if (openItem !== parent) {
                        openItem.classList.remove('active');
                    }
                });
            });
        });
    </script>
</body>
</html>
